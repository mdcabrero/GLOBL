@use 'scss/index' as *;
@use 'pages/index' as *;

 
/* CSS RESET */

 *, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    text-decoration: none;
    scrollbar-width: none;

}

ul, ol {
    list-style: none;
}

html:focus-within {
    scroll-behavior: smooth;
}

img, picture, svg {
    max-width: 100%;
    display: block;

    /* Prevent image dragging without blocking pointer events */
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
    user-select: none;
    -webkit-user-select: none;
}

input, button, textarea, select {
    font: inherit;
}



 /*    BASE CSS    */

 body {
  font-family: 'Plus Jakarta Sans', system-ui, sans-serif;
  font-size: $size-1;
  line-height: 1.5;
  color: $text-primary;
  background-color: $bg-light;
  overflow-x: hidden; // Prevent slider content overflowing and making the page wider than it needs to

}





  
/*   NAVIGATION  */



.site-header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  padding-inline: $space-4x;
  padding-block: $space-1x;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: space-between;
  backdrop-filter: blur(0.5px);
  background-color: rgba($bg-dark, 1); /* Default to solid background */
  
  /* Hide until DOM fully loaded to prevent flicker */
  opacity: 0;
  transition: 
      transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
      background-color 0.35s cubic-bezier(0.5, 1, 0.2, 1),
      opacity 0.2s ease-in;

  &.is-loaded {
    opacity: 1;
  }

  &.is-scroll-down {
      transform: translateY(-100%);
  }

  &.is-scroll-up {
      transform: translateY(0);
      background-color: $bg-dark;
  }
  
  /* Your existing animation code */
  animation-timeline: scroll();
  animation-range: 0 270px;
  animation-name: headerBackground;
  
  @keyframes headerBackground {
    from {
      background-color: rgba($bg-dark, 0);
      padding-top: $space-3x;
    }
    to {
      background-color: rgba($bg-dark, 1);
      padding-block: $space-1x;
    }
  }
}

 
 

 @keyframes headerBackground {
  from {
    background-color: rgba($bg-dark, 0);
    padding-top: $space-3x;
  }
  to {
    background-color: rgba($bg-dark, 1);
    padding-block: $space-1x;
  }
}



  

.logo {
  display: block;
  
  img {
    width: 12rem;
    height: auto;
  }
}

.main-navigation {
  @include flex-row(3.5rem);

}

.nav-link {
  color: $headline-light;
  text-decoration: none;
  font-size: 1.35rem;
  font-weight: $font-medium;
  transition: opacity 0.2s ease;

  &:hover {
    opacity: 0.8;
  }
}


 
  .slider-nav {
    @include flex-row;
  }


  .internal-link {
    text-decoration: none;
    color: inherit;
    cursor: pointer;

}
  
  





/* ==== FOOTER ==== */

.site-footer {
  background-image: url('/assets/footer-pattern--blue.jpg');
  background-size: cover;
  background-position: center 60%;
  background-repeat: no-repeat;
  
  /* Subtle brightness adjustment to enhance pattern visibility */
  color: $headline-light;
  display: flex;
  flex-direction: column;
  margin: 0.75rem ;
  margin-top: $space-8x;
  height: calc(93vh - 1.5rem);
  width: calc(100vw - 1.5rem);
  border-radius: calc($radius/2);
  padding-top: $space-6x;
  padding-bottom: $space-1x;
  padding-inline: $space-4x;

}



.footer-main {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;

  
    .footer-logo {
      width: 100%;
      justify-self: center;
      height: auto;
      transform: scaleX(105%);

 

    }

}

.footer-nav {
  display: flex;
  justify-content: center;
  gap: 1.1rem;
  margin-top: 1rem;

  

  
  a {
    color: white;
    font-weight: $font-medium-plus;
    font-size: 1.25rem;
  }
  

}


.footer-cta {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 2.5rem;
  background: rgba(5, 22, 107, 0.25);
  backdrop-filter: blur( 8px );
  -webkit-backdrop-filter: blur( 8px);
  border-radius: $radius;
  /* Subtle 3D glossy border effect */
  box-shadow: inset 0 16px 24px rgba(0,0,0,0.16), 0 0 6px 3px hsla(216, 93%, 11%, 0.231);

  width: 40%;
  height: 60vh;
  border-radius: $radius;
  font-weight: $font-regular-plus;


    p {
      color: white;
      font-size: 1.75rem;
      line-height: 1.4;

      &:first-of-type {
        line-height: 1.25; /* narrower line height for first paragraph */
      }
    }

    h4 {
      color: whitesmoke;
      font-size: 3.25rem;
      letter-spacing: -1px;
      font-weight: $font-medium-plus;
      line-height: 1;
    }

    .arrow-icon {
      background-image: url('../assets/icons/arrow-cta.svg');
      background-repeat: no-repeat;
      background-position: center;
      background-size: contain;
      width: 0;
      height: 2rem;
      margin-right: 0;
      opacity: 0;
      transition: all 0.3s ease;
      display: inline-block;
    }
  
    &:hover {
      background: $brand-primary;
      box-shadow: none;

      
      .arrow-icon {
        width: 2.5rem;
        margin-right: 0.5rem;
        opacity: 1;
      }
    }
  }


.footer-legal {
  display: flex;
  justify-content: space-between;
  align-items: last baseline;
  color: rgb(206, 206, 206);
  margin-top: auto;
  font-size: $size-0;

    a {
      margin-right: $space-3x;
    }

    small{
      font-size: 0.8rem;
    }
}





/* ====================== QUOTE FORM =========================== */


#quote {
  display: flex;
  width: 100vw;
  height: 100vh;
  justify-content: center;
  align-items: center;
}

.popup-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.popup-image {
  /* No need to specify width - grid takes care of it */
  background-image: url('../assets/quote-form.jpg');
  background-size: cover;
  background-position: center;
}

.popup {
    display: grid;
    grid-template-columns: 40% 1fr; 
    width: 70vw;
   
    border-radius: $radius;
    overflow: hidden;
    box-shadow: 0 10px 25px rgba(7, 54, 112, 0.2);

}


.popup-content {
  /* No need to specify width - grid takes care of it */
  background-color: white;
  position: relative;
  overflow-y: auto;
}

.close-btn {
  position: absolute;
  top: 0.5rem;
  right: 1.5rem;
  background: none;
  border: none;
  font-size: 2rem;
  cursor: pointer;
  color: rgba(77, 77, 77, 0.6);
}


.quote-form {
  display: flex;
  flex-direction: column;
  height: fit-content;
  background-color: white;
  padding: $space-4x;
  padding-bottom: $space-2x;
  box-shadow: 0 10px 25px rgba(7, 54, 112, 0.2);
  

  
  h1 {
    font-size: $size-3;
    color: $brand-dark;
    margin-bottom: $space-3q;
  }
  
  .form-intro {
    font-size: $size-0;
    color: $text-primary;
    margin-bottom: $space-md;
    max-width: 45ch;
  }
}

// Form layout and components
.form-row {
  display: flex;
  gap: $space-2x;
  margin-bottom: $space-lite;
  

}

.form-group {
  display: flex;
  flex-direction: column;
  flex: 1;
  margin-bottom: $space-lite;
}

label {
  font-size: 0.9rem;
  font-weight: $font-medium;
  color: $brand-dark;
  margin-bottom: $space-lite;
  margin-left: 0.25rem;
}

input, 
textarea {
  padding-block: $space-lite;
  padding-inline: $space-3q;
  border: 1px solid hsla(230, 35%, 15%, 0.2);
  border-radius: $space-lite;
  font-size: 0.9rem;
  height: 2.5rem;
  line-height: 1.5;
  width: 100%;
  
  &::placeholder {
    color: hsla(230, 35%, 15%, 0.4);
    font-size: 0.9rem;
    font-weight: $font-medium-plus;

  }
  
  &:focus {
    outline: none;
    border-color: $brand-accent;
    box-shadow: 0 0 0 2px rgba($brand-accent, 0.2);
  }
}

textarea {
  resize: none;
  height: 100px;
}

.submit-btn {
  display: block;
  width: 100%;
  padding: $space-lite;
  background-color: $brand-accent; // Based on the orange from the image
  color: white;
  border: none;
  border-radius: calc($radius/2);
  font-size: $size-1;
  font-weight: $font-medium;
  cursor: pointer;
  margin-top: $space-1x; //It's actually like space-md because the margin-bottom from form-group adds up to the total distance
  transition: background-color 0.2s ease;
  
  &:hover {
    background-color: darken(#003bbb, 15%);
  }
}

.privacy-notice {

  font-size: $size-minus;

  align-self: center;
  color: $text-primary;
  margin-top: $space-1x;
  
  a {
    color: $text-primary;
    font-weight: $font-medium;
    text-decoration: underline;
    
    &:hover {
      color: $brand-accent;
    }
  }
}